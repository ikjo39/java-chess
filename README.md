# java-chess

## 용어 정리

- Rank: 체스판의 가로 줄
- File: 체스판의 세로 줄
- Piece: 체스 각각의 기물
- P, p: Pawn(폰)
    - 첫 이동 시에는 두 칸을 전진할 수 있다. 그 이후에는 한 칸씩만 전진할 수 있다.
- N, n: kNight(나이트)
    - 'L' 모양으로 움직입니다. 다른 기물들을 뛰어넘을 수 있다.
- B, b: Bishop(비숍)
    - 대각선 방향으로 어디든지 여러 칸을 움직일 수 있다.
- R, r: Rook(룩)
    - 수직 또는 수평 방향으로 어디든지 여러 칸을 움직일 수 있다.
- Q, q: Queen(퀸)
    - 대각선, 수직, 수평 방향으로 어디든지 여러 칸을 움직일 수 있다.
- K, k: King(킹)
    - 한 번에 한 칸씩 대각선 방향이나 수직, 수평 방향으로 이동할 수 있다.

## 구현할 기능 목록

### 입출력 기능

#### 입력

- 시작/종료 명령어를 입력한다.
    - start/end가 아니면 에외 발생
- move 명령어와 source target 위치를 입력받는다.
    - `move (source위치) (target위치)` 형식이 아니면 예외 발생

#### 출력

- 초기화된 체스판 현황을 출력한다.

```text
<프로그램 실행 결과>
체스 게임을 시작합니다.
게임 시작은 start, 종료는 end 명령을 입력하세요.
start
RNBQKBNR
PPPPPPPP
........
........
........
........
pppppppp
rnbqkbnr

end
```

- 각 이동마다 체스판을 출력한다.

### 비즈니스 기능

- 체스판을 초기화한다.
    - 체스판은 8x8로 이루어져 있다.
    - 체스판에서 말의 위치 값은 가로 위치는 왼쪽부터 a ~ h이고, 세로는 아래부터 위로 1 ~ 8이다.
    - 각 진영은 검은색(대문자)과 흰색(소문자) 편으로 구분한다.
    - 검은색 진영은 체스판 위에 배치하고 흰색 진영은 아래에 배치한다.
    - 폰은 전부 Rank 2와 Rank 7에 위치 한다.
    - 이외의 기물은 RNBQKBNR(rnbqkbnr) 순서로 Rank 1과 Rank 8에 위치한다.


- 체스판에 Source 또는 Target 위치에 기물이 있는지 찾는다.
    - Source 위치에 기물이 없으면 예외 발생

- 체스 기물이 이동한다.
    - 경로에 기물이 있다면 이동할 수 없다.
    - Target 위치에 아군 기물이 있으면 이동할 수 없다.
- Pawn
    - 폰은 1칸씩 전진한다.
        - Rank2에 있는 경우 2칸 or 1칸 움직일 수 있다. (WHITE)
        - Rank6에 있는 경우 2칸 or 1칸 움직일 수 있다. (BLACK)
    - 전진한 최종 위치에 어느 기물이든 있으면 움직일 수 없다.
    - 뒤로 갈 수 없다.
    - 상대편 기물이 대각선 방향에 있으면 움직일 수 있다.
- Knight
    - 나이트는 'L'자로 움직인다.
    - (file, rank)
        - (file+2, rank+1), (file+2, rank-1), (file-2, rank+1), (file-2, rank-1)
        - (file+1, rank+2), (file+1, rank-2), (file-1, rank+2), (file-1, rank-2)
    - 유일하게 다른 기물을 뛰어넘을 수 있다
- Bishop
    - 대각선 방향으로 움직인다.
    - 원하는 만큼 움직일 수 있다.
- Rook
    - 상하좌우로 움직인다.
    - 원하는 만큼 움직일 수 있다.
- Queen
    - 상하좌우 대각선으로 움직인다.
    - 원하는 만큼 움직일 수 있다.
- King
    - 자기 자신을 기준으로 상하좌우 대각선으로 움직인다.
    - 1칸씩 움직일 수 있다.

---

# 추가된 기능 요구사항

## 입출력

### 입력

"status" 명령을 입력하면 각 진영의 점수를 출력하고 어느 진영이 이겼는지 결과를 볼 수 있어야 한다.

### 출력

체스 게임은 현재 남아 있는 말에 대한 점수를 구할 수 있어야 한다.

## 비즈니스 기능

- 체스 게임은 상대편 King이 잡히는 경우 게임에서 진다.
  - Target 위치가 상대편 기물이고 King인지 판단한다.
- King이 잡혔을 때 게임을 종료해야 한다.
- 체스보드를 기준으로 점수를 계산한다.
  - 점수 계산 규칙
    - 체스 프로그램에서 현재까지 남아 있는 말에 따라 점수를 계산할 수 있어야 한다.
    - 각 말의 점수는 queen은 9점, rook은 5점, bishop은 3점, knight는 2.5점이다.
    - pawn의 기본 점수는 1점이다. 하지만 같은 세로줄에 같은 색의 폰이 있는 경우 1점이 아닌 0.5점을 준다.
    - king은 잡히는 경우 경기가 끝나기 때문에 점수가 없다.
    - 한 번에 한 쪽의 점수만을 계산해야 한다.

